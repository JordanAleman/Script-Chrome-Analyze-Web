(()=>{"use strict";var e=function(){document.querySelectorAll("#results tbody").forEach((function(e){e.innerHTML=""})),document.getElementById("results").style.display="none",document.getElementById("noResults").style.display="none"};const t=JSON.parse('{"T":{"stone-100":"#FFFFFF","stone-200":"#F5F5F5","stone-300":"#EEEEEE","stone-400":"#DFDFDF","stone-500":"#CCCCCC","stone-600":"#B7B7B7","stone-700":"#929292","stone-800":"#8C8C8C","stone-900":"#828282","stone-1000":"#767676","stone-1100":"#707070","stone-1200":"#545454","stone-1300":"#484848","stone-1400":"#333333","stone-1500":"#242424","stone-1600":"#111111","stone-1700":"#000000","sky-1500":"#40b1E1","sky-2500":"#489CE3","sky-3500":"#007CC1","sky-4500":"#0061B4","sky-5500":"#0058A3","sky-5600":"#004F93","sky-5700":"#003E72","lingonberry-1500":"#FB6579","lingonberry-2500":"#ED5A51","lingonberry-3500":"#E00751","lingonberry-3600":"#CC003D","lingonberry-3700":"#B80029","lingonberry-4500":"#CC0008","sun-1500":"#FFDB00","sun-2500":"#F5B460","sun-3500":"#FFA524","sun-4500":"#EC773E","sun-5500":"#CA5008","sun-6500":"#F26A2F","forest-1500":"#7EC76D","forest-2500":"#5CC27C","forest-3500":"#0A8A00","forest-4500":"#00853E","wood-1000":"#DEBC9C"},"z":{"font-size-20":0.625,"font-size-25":0.6875,"font-size-50":0.75,"font-size-75":0.875,"font-size-100":1,"font-size-200":1.125,"font-size-300":1.25,"font-size-400":1.375,"font-size-500":1.5,"font-size-600":1.75,"font-size-700":2,"font-size-800":2.25,"font-size-900":2.5,"font-size-1000":3,"font-size-1100":3.25,"font-size-1200":3.5,"font-size-1300":4,"font-size-1400":4.5,"font-size-1500":5,"font-size-1600":6}}');var n=function(e,t){var n=e.replace(/\s+/g,"");return n.charAt(0).toLowerCase()+n.slice(1)+t};function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,c,a,s=[],l=!0,u=!1;try{if(c=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(o=c.call(n)).done)&&(s.push(o.value),s.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw r}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,c,a,s=[],l=!0,u=!1;try{if(c=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(o=c.call(n)).done)&&(s.push(o.value),s.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw r}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}var s=function(e){var t=document.getElementById("noResults");t.innerText=e,t.style.display="flex",document.getElementById("results").style.display="none",document.getElementById("accordionResults").style.display="none"},l=function(){document.querySelector(".switch input").checked?(document.getElementById("accordionResults").style.display="grid",document.getElementById("results").style.display="none"):(document.getElementById("results").style.display="flex",document.getElementById("accordionResults").style.display="none"),document.getElementById("noResults").style.display="none"},u=function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;n.innerHTML="";var r=[],a=[];e.forEach((function(e){var n=Object.entries(t.T).find((function(t){var n=c(t,2);return n[0],n[1].toLowerCase()===e.toLowerCase()}));n?r.push({color:e,name:n[0]}):a.push({color:e})})),r.sort((function(e,t){return e.name.localeCompare(t.name)}));var s=function(e,t){var o="<tr>";e.forEach((function(e){var n=e.name?e.name:'<span class="tableSuccessFailedText">❌</span>',r=t?'class="tableSuccess"':"";o+='\n                <td class="color-box" style="background-color: '.concat(e.color,';"></td>\n                <td>').concat(e.color,"</td>\n                <td ").concat(r,">").concat(n,"</td>\n            ")})),o+="</tr>",n.innerHTML+=o},l=function(e,t){var n=[],r=0;e.forEach((function(e){n.push(e),++r===o&&(s(n,t),n=[],r=0)})),n.length>0&&s(n,t)};return l(r,!0),a.length>0&&(n.innerHTML+='<tr><td class="tableSeparator" colspan="'.concat(3*o,'">.·´¯`(&gt;▂&lt;)´¯`·.</td></tr>')),l(a,!1),{matchedCount:r.length,unmatchedCount:a.length,totalCount:e.length}},i=function(){var e=document.getElementById("accordionResults");e.innerHTML="";for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];var l=a.map((function(e){var r=c(e,2),a=r[0],s=r[1],l=[],u=[];s.forEach((function(e){var n;a.includes("Color")?n=function(e){var n,o=e.toLowerCase(),r="❌";return Object.values(t.T).map((function(e){return e.toLowerCase()})).includes(o)?(r=Object.keys(t.T).find((function(e){return t.T[e].toLowerCase()===o})),n="".concat(e," | ").concat(r)):n="".concat(e," | ❌"),{processedItem:n,isMatched:"❌"!==r}}(e):a.includes("Size")&&(n=function(e){var n,r=o(e.split(" | "),2)[1],c=Object.entries(t.z).find((function(e){var t=o(e,2)[1];return"".concat(t,"rem")===r})),a="❌";return c?n=function(e,t){var n=o(e.split(" | "),2),r=n[0],c=n[1],a=parseFloat(c).toFixed(3),s=r.padStart(2,"0");return"".concat(s," | ").concat(a,"rem | ").concat(t)}(e,a=c[0]):n="".concat(e," | ❌"),{processedItem:n,isMatched:"❌"!==a}}(e)),n.isMatched?l.push(n.processedItem):u.push(n.processedItem)}));var i=a.includes("Color"),d=function(e,n){return n?e.sort((function(e,t){var n=e.split(" | ")[1],o=t.split(" | ")[1];return n.localeCompare(o)})):e.sort((function(e,n){var o=e.split(" | ")[2],r=n.split(" | ")[2],c=Object.keys(t.z);return c.indexOf(o)-c.indexOf(r)}))}(l,i);return function(e,t,o){return'\n            <div id="'.concat(n(e,"Accordion"),'" class="accordion-item">\n                <button class="accordion">').concat(e,'</button>\n                <div class="panel">\n                    <div class="summary summaryAccordion"></div>\n                    <ul class="panelContentMatched">\n                        ').concat(t.map((function(e){return"<li>".concat(e,"</li>")})).join(""),'\n                    </ul>\n                    <ul class="panelContentUnmatched">\n                        ').concat(o.map((function(e){return"<li>".concat(e,"</li>")})).join(""),"\n                    </ul>\n                </div>\n            </div>\n        ")}(a,d,u)})).join("");e.innerHTML=l,requestAnimationFrame((function(){document.querySelectorAll(".accordion").forEach((function(e){var t=e.nextElementSibling;t.style.maxHeight=t.scrollHeight+"px",e.addEventListener("click",(function(){t.style.maxHeight?t.style.maxHeight=null:t.style.maxHeight=t.scrollHeight+"px"}))}))})),a.forEach((function(e){var o=c(e,2),r=o[0],a=o[1],s=0,l=0,u=n(r,"Accordion");a.forEach((function(e){var n=u.includes("Color"),o=u.includes("Size"),r=!1;if(n){var a=e.toLowerCase();r=Object.values(t.T).map((function(e){return e.toLowerCase()})).includes(a)}else if(o){var i=c(e.split(" | "),2)[1].toLowerCase();r=Object.values(t.z).some((function(e){return"".concat(e,"rem").toLowerCase()===i}))}r?s++:l++})),d(u,a.length,s,l,!1)}))},d=function(e,t,n,o){var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],c=document.querySelector("#".concat(e," .summary")),a=r?"Skapa: ".concat(n):"✔: ".concat(n),s=r?"No Skapa: ".concat(o):"❌: ".concat(o);c.innerHTML='\n        <span class="summaryInfo">Nº: '.concat(t,'</span>\n        <span class="summarySkapa">').concat(a,'</span>  \n        <span class="summaryNoSkapa">').concat(s,"</span>\n    ")};document.addEventListener("DOMContentLoaded",(function(){document.querySelector(".switch input").checked=!0,l()}));var f=null,m=document.querySelector(".switch input"),y=function(){var e=m.checked;if(f){if(e)i(["Background Colors",f.bgColors],["Text Colors",f.textColors],["Font Sizes",f.fontSizes]);else{var n=document.getElementById("resultBackgroundColors"),o=document.getElementById("resultTextColors"),r=document.getElementById("resultFontSizes"),a=u(f.bgColors,n),s=u(f.textColors,o),y=function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;n.innerHTML="";var r=[],a=[];e.forEach((function(e){var n=c(e.split(" | "),2),o=n[0],s=n[1],l=Object.entries(t.z).find((function(e){var t=c(e,2),n=(t[0],t[1]);return"".concat(n,"rem")===s}));l?r.push({pxValue:o,remValue:s,name:l[0]}):a.push({pxValue:o,remValue:s})})),r.sort((function(e,t){return e.name.localeCompare(t.name)}));var s=function(e,t){var o="<tr>";e.forEach((function(e){var n=e.name?'<span class="tableSuccessFailedText">'.concat(e.name,"</span>"):'<span class="tableSuccessFailedText">❌</span>';o+="\n                <td ".concat(t?'class="tableSuccessFont"':'class="tableFailedFont"',">").concat(e.pxValue," | ").concat(e.remValue," | ").concat(n,"</td>\n            ")})),o+="</tr>",n.innerHTML+=o},l=function(e,t){var n=[],r=0;e.forEach((function(e){n.push(e),++r===o&&(s(n,t),n=[],r=0)})),n.length>0&&s(n,t)};return l(r,!0),a.length>0&&(n.innerHTML+='<tr><td class="tableSeparator" colspan="'.concat(o,'">.·´¯`(&gt;▂&lt;)´¯`·.</td></tr>')),l(a,!1),{matchedCount:r.length,unmatchedCount:a.length,totalCount:e.length}}(f.fontSizes,r);d("backgroundColorSection",a.totalCount,a.matchedCount,a.unmatchedCount),d("textColorSection",s.totalCount,s.matchedCount,s.unmatchedCount),d("fontSizeSection",y.totalCount,y.matchedCount,y.unmatchedCount)}l()}};m.addEventListener("change",y);var h=function(t,n){e();var o,r=document.getElementById("selectorType").value;("searchById"===n?t.startsWith("#")||(t="#".concat(t)):"searchElement"===n?t=function(e,t){switch(e.toLowerCase()){case"custom":default:return t;case"id":return"#".concat(t);case"class":return".".concat(t);case"name":return'[name="'.concat(t,'"]');case"tag":return"".concat(t)}}(r,t):"analyzePage"===n&&(t="*"),function(e){try{document.createDocumentFragment().querySelector(e)}catch(e){return!1}return!0}(t))?(o="*"===t?"analyzePage":"searchById"===n?"analyzeElementAndChildren":"analyzeElement",chrome.tabs.query({active:!0,currentWindow:!0},(function(e){chrome.tabs.sendMessage(e[0].id,{action:o,selector:t},(function(e){if(chrome.runtime.lastError)console.error("Error al recibir respuesta (っ °Д °;)っ:",chrome.runtime.lastError.message);else if(e){var n=e.bgColors,o=e.textColors,r=e.fontSizes;!1===e.elementFound?s('Element "'.concat(t,'" not found!')):(f={bgColors:n,textColors:o,fontSizes:r},y())}}))}))):s('Invalid selector "'.concat(t,'". Please enter a valid selector!'))};document.addEventListener("DOMContentLoaded",(function(){document.getElementById("analyzeButton").addEventListener("click",(function(){h("*","analyzePage")})),document.getElementById("searchByIdButton").addEventListener("click",(function(){e();var t=document.getElementById("idSelector").value.trim();t?h(t,"searchById"):s("Please enter a valid ID!")})),document.getElementById("searchButton").addEventListener("click",(function(){e();var t=document.getElementById("elementSelector").value.trim();t?h(t,"searchElement"):s("Please enter a valid selector!")})),document.getElementById("idSelector").addEventListener("keydown",(function(e){"Enter"===e.key&&(e.preventDefault(),document.getElementById("searchByIdButton").click())})),document.getElementById("elementSelector").addEventListener("keydown",(function(e){"Enter"===e.key&&(e.preventDefault(),document.getElementById("searchButton").click())}))}))})();