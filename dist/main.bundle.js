(()=>{"use strict";var e=function(){document.querySelectorAll("#results tbody").forEach((function(e){e.innerHTML=""})),document.getElementById("results").style.display="none",document.getElementById("noResults").style.display="none"},t=function(e){var t=document.getElementById("noResults");t.innerText=e,t.style.display="block",document.getElementById("results").style.display="none",document.getElementById("accordionResults").style.display="none"},n=function(){document.querySelector(".switch input").checked?(document.getElementById("accordionResults").style.display="block",document.getElementById("results").style.display="none"):(document.getElementById("results").style.display="block",document.getElementById("accordionResults").style.display="none"),document.getElementById("noResults").style.display="none"},o=function(e,t){var n="<tr>";e.forEach((function(e){n+='\n            <td class="color-box" style="background-color: '.concat(e,';"></td>\n            <td>').concat(e,"</td>\n        ")})),n+="</tr>",t.innerHTML+=n},c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;t.innerHTML="";var c=[],l=0;e.forEach((function(e){c.push(e),++l===n&&(o(c,t),c=[],l=0)})),c.length>0&&o(c,t)};document.addEventListener("DOMContentLoaded",(function(){document.querySelector(".switch input").checked=!0,n()}));var l=null,r=document.querySelector(".switch input"),a=function(){var e=r.checked;if(l){if(e)!function(e,t,n){var o=document.getElementById("accordionResults");o.innerHTML="";var c=function(e,t){return'\n            <div class="accordion-item">\n                <button class="accordion">'.concat(e,'</button>\n                <div class="panel">\n                    <ul class="panelContent">\n                        ').concat(t.map((function(e){return"<li>".concat(e,"</li>")})).join(""),"\n                    </ul>\n                </div>\n            </div>\n        ")},l="\n        ".concat(c("Background Colors",e),"\n        ").concat(c("Text Colors",t),"\n        ").concat(c("Font Sizes",n),"\n    ");o.innerHTML=l,requestAnimationFrame((function(){document.querySelectorAll(".accordion").forEach((function(e){var t=e.nextElementSibling;t.style.maxHeight=t.scrollHeight+"px",e.addEventListener("click",(function(){t.style.maxHeight?t.style.maxHeight=null:t.style.maxHeight=t.scrollHeight+"px"}))}))})),o.style.display="block"}(l.bgColors,l.textColors,l.fontSizes);else{var t=document.getElementById("resultBackgroundColors"),o=document.getElementById("resultTextColors"),a=document.getElementById("resultFontSizes");c(l.bgColors,t),c(l.textColors,o),function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2;t.innerHTML="";var l=e.length,r=Math.min(o,l),a=Math.min(c,Math.ceil(l/r));document.getElementById(n).setAttribute("colspan",r);for(var s=0,d="",i=0;i<a;i++){for(var u="<tr>",m=0;m<r;m++)if(s<l){var y=e[s].split(" ");u+="<td>".concat(y.join(" | "),"</td>"),s++}else u+="<td></td>";d+=u+="</tr>"}t.innerHTML=d}(l.fontSizes,a,"fontSizeHeader")}n()}};r.addEventListener("change",a);var s=function(n,o){e();var c,r=document.getElementById("selectorType").value;("searchById"===o?n.startsWith("#")||(n="#".concat(n)):"searchElement"===o?n=function(e,t){switch(e.toLowerCase()){case"custom":default:return t;case"id":return"#".concat(t);case"class":return".".concat(t);case"name":return'[name="'.concat(t,'"]');case"tag":return"".concat(t)}}(r,n):"analyzePage"===o&&(n="*"),function(e){try{document.createDocumentFragment().querySelector(e)}catch(e){return!1}return!0}(n))?(c="*"===n?"analyzePage":"searchById"===o?"analyzeElementAndChildren":"analyzeElement",chrome.tabs.query({active:!0,currentWindow:!0},(function(e){chrome.tabs.sendMessage(e[0].id,{action:c,selector:n},(function(e){if(chrome.runtime.lastError)console.error("Error al recibir respuesta (っ °Д °;)っ:",chrome.runtime.lastError.message);else if(e){var o=e.bgColors,c=e.textColors,r=e.fontSizes;!1===e.elementFound?t('Element "'.concat(n,'" not found!')):(l={bgColors:o,textColors:c,fontSizes:r},a())}}))}))):t('Invalid selector "'.concat(n,'". Please enter a valid selector!'))};document.addEventListener("DOMContentLoaded",(function(){document.getElementById("analyzeButton").addEventListener("click",(function(){s("*","analyzePage")})),document.getElementById("searchByIdButton").addEventListener("click",(function(){e();var n=document.getElementById("idSelector").value.trim();n?s(n,"searchById"):t("Please enter a valid ID!")})),document.getElementById("searchButton").addEventListener("click",(function(){e();var n=document.getElementById("elementSelector").value.trim();n?s(n,"searchElement"):t("Please enter a valid selector!")})),document.getElementById("idSelector").addEventListener("keydown",(function(e){"Enter"===e.key&&(e.preventDefault(),document.getElementById("searchByIdButton").click())})),document.getElementById("elementSelector").addEventListener("keydown",(function(e){"Enter"===e.key&&(e.preventDefault(),document.getElementById("searchButton").click())}))}))})();