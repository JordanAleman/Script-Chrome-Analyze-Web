(()=>{function e(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}var r=function(e){return"#".concat(e.map((function(e){return e.toString(16).padStart(2,"0")})).join(""))},t=function(e){if("string"!=typeof e)return null;var r=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);return r?r.slice(1,4).map((function(e){return Number(e)})):null},n=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return(parseFloat(e)/r).toFixed(2)+" rem"},o=function(e){for(var o=new Set,a=new Set,i=new Set,l=10,u=0;u<e.length;u++){var c=e[u];if(o.size<l){var f=window.getComputedStyle(c).backgroundColor;if(f&&"rgba(0, 0, 0, 0)"!==f&&"transparent"!==f){var d=t(f);if(d){var s=r(d);o.add(s)}}}if(a.size<l){var m=window.getComputedStyle(c).color;if(m&&"rgba(0, 0, 0, 0)"!==m&&"transparent"!==m){var y=t(m);if(y){var v=r(y);a.add(v)}}}if(i.size<l){var g=window.getComputedStyle(c).fontSize;if(g&&"0px"!==g){var S=n(g);i.add("".concat(g," ").concat(S))}}if(o.size>=l&&a.size>=l&&i.size>=l)break}return{bgColors:Array.from(o),textColors:Array.from(a),fontSizes:Array.from(i)}};chrome.runtime.onMessage.addListener((function(r,t,n){if("analyzePage"===r.action&&n(o(document.querySelectorAll("*"))),"analyzeElementAndChildren"===r.action){var a=document.querySelector(r.selector);if(a){var i=a.querySelectorAll("*"),l=[a].concat(function(r){if(Array.isArray(r))return e(r)}(c=i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(c)||function(r,t){if(r){if("string"==typeof r)return e(r,t);var n={}.toString.call(r).slice(8,-1);return"Object"===n&&r.constructor&&(n=r.constructor.name),"Map"===n||"Set"===n?Array.from(r):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(r,t):void 0}}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=o(l);u.elementFound=!0,n(u)}else n({elementFound:!1})}var c;if("analyzeElement"===r.action){var f=document.querySelectorAll(r.selector);if(f.length>0){var d=o(f);d.elementFound=!0,n(d)}else n({elementFound:!1})}return!0}))})();